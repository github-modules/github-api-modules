{"name":"githubot","description":"Hubot-compatible Github API wrapper for Node.js","version":"1.0.1","homepage":"https://github.com/iangreenleaf/githubot","license":"MIT","repository":"https://github.com/iangreenleaf/githubot","main":"./lib/githubot","scripts":{"prepublish":"coffee -o lib -c src && cat .gitignore | grep -v '^lib$' > .npmignore","test":"make test"},"engines":{"node":">=0.10.0"},"dependencies":{"scoped-http-client":">= 0.9.8","async":"0.2.x"},"devDependencies":{"mocha":"~2.2","coffee-script":"~1.9.1","nock":"~0.28.3"},"gitHead":"afc9326f76c8e9f6c8401ffde6c649143627463b","versions":[{"number":"0.1.0","date":"2012-02-10T23:43:49.058Z"},{"number":"0.1.1","date":"2012-02-16T23:06:55.499Z"},{"number":"0.1.2","date":"2012-03-01T19:09:35.105Z"},{"number":"0.1.3","date":"2012-03-03T00:22:43.354Z"},{"number":"0.1.4","date":"2012-03-05T18:05:35.317Z"},{"number":"0.1.5","date":"2012-03-28T18:56:39.547Z"},{"number":"0.1.6","date":"2012-06-02T20:52:10.575Z"},{"number":"0.2.0","date":"2012-06-06T02:11:19.872Z"},{"number":"0.2.1","date":"2012-06-15T21:32:11.302Z"},{"number":"0.3.0","date":"2012-07-15T06:55:20.992Z"},{"number":"0.3.1","date":"2013-02-02T07:24:28.439Z"},{"number":"0.4.0","date":"2013-04-07T07:32:33.018Z"},{"number":"0.4.1","date":"2013-07-26T07:19:27.873Z"},{"number":"0.4.2","date":"2014-01-01T20:19:13.039Z"},{"number":"0.5.0","date":"2014-01-31T20:45:08.347Z"},{"number":"1.0.0-beta","date":"2014-04-13T01:48:51.082Z"},{"number":"1.0.0-beta2","date":"2014-04-13T02:14:11.753Z"},{"number":"1.0.0","date":"2015-03-12T19:16:50.715Z"},{"number":"1.0.1","date":"2016-09-15T04:34:38.072Z"}],"readme":"# A Hubot-compatible Github API wrapper for Node.js #\n\n[![Build Status]](http://travis-ci.org/iangreenleaf/githubot)\n\n## Install ##\n\n    npm install githubot\n\n## Require ##\n\nUse it in your Hubot script:\n\n```coffeescript\nmodule.exports = (robot) ->\n  github = require('githubot')(robot)\n```\n\nOr use it on its own:\n\n```coffeescript\ngithub = require('githubot')\n```\n\nYou can pass additional [options](#options) to the constructor if needed.\n\n## Use ##\n\nMake any call to the Github v3 API, get the parsed JSON response:\n\n```coffeescript\ngithub.get \"https://api.github.com/users/iangreenleaf/gists\", (gists) ->\n  console.log gists[0].description\n\ngithub.get \"users/foo/repos\", {type: \"owner\"}, (repos) ->\n  console.log repos[0].url\n\ndata = { description: \"A test gist\", public: true, files: { \"abc.txt\": { content: \"abcdefg\" } } }\ngithub.post \"gists\", data, (gist) ->\n  console.log gist.url\n\ngithub.patch \"repos/my/repo/issues/11\", {status: \"closed\"}, (issue) ->\n  console.log issue.html_url\n```\n\n## Authentication ##\n\nIf `process.env.HUBOT_GITHUB_TOKEN` is present, you're automatically authenticated. Sweet!\n\n### Acquire a token ###\n\nIf you don't have a token yet, run this:\n\n    curl -i https://api.github.com/authorizations -d '{\"note\":\"githubot\",\"scopes\":[\"repo\"]}' -u \"yourusername\"\n\nEnter your Github password when prompted. When you get a response, look for the \"token\" value.\n\nIf you have two-factor authentication enabled, you'll have to append `-H 'X-GitHub-OTP: 123456'` to the end of the above command, or you'll receive HTTP 401 Unauthorized instead of your token.\n\n## Handling errors ##\n\nGitHubot will log errors automatically if it has a logger. Used with Hubot, these will go to the Hubot logger.\n\nIf your script would like to catch errors as well, define an extra callback:\n\n```coffeescript\ngithub.handleErrors (response) ->\n  console.log \"Oh no! #{response.statusCode}!\"\n```\n\nThe callback takes a `response` argument with the following keys:\n\n* `error`: The error message.\n* `statusCode`: The status code of the API response, if present.\n* `body`: The body of the API response, if present.\n\nYou can also pass an error handler in [the options](#available-options) instead.\n\n## Helpful Hubot ##\n\nIf `process.env.HUBOT_GITHUB_USER` is present, we can help you guess a repo's full name:\n\n```coffeescript\ngithub.qualified_repo \"githubot\" # => \"iangreenleaf/githubot\"\n```\n\nThis will happen with the bespoke methods as well:\n\n```coffeescript\ngh.branches \"githubot\", (branches) ->\n```\n\n## Options ##\n\n### Passing options ###\n\nOptions may be passed to githubot in three different ways,\nin increasing order of precedence:\n\n1. Through shell environment variables.\n2. Through the constructor:\n\n   ```coffeescript\n   github = require('githubot')(robot, apiVersion: 'preview')\n   ```\n3. Using `withOptions`, which lets you pass options to only some requests:\n\n   ```coffeescript\n   github = require('githubot')(robot)\n   preview = github.withOptions(apiVersion: 'preview')\n   # Uses preview API\n   preview.get '/preview/feature', -> # ...\n   # Uses regular API\n   github.get '/regular/feature', -> # ...\n   ```\n\n### Available options ###\n\n* `token`/`process.env.HUBOT_GITHUB_TOKEN`:\n  GitHub API token. Required to perform authenticated actions.\n\n* `apiVersion`/`process.env.HUBOT_GITHUB_API_VERSION`:\n  [Version of the API](http://developer.github.com/v3/versions/)\n  to access. Defaults to 'v3'.\n\n* `defaultUser`/`process.env.HUBOT_GITHUB_USER`:\n  Default GitHub username to use if one is not given.\n\n* `apiRoot`/`process.env.HUBOT_GITHUB_API`:\n  The base API URL. This is useful for Enterprise Github installations.\n\n  For example, `HUBOT_GITHUB_API='https://myprivate.github.int'`\n\n* `concurrentRequests`/`process.env.HUBOT_CONCURRENT_REQUESTS`:\n  Limits the allowed number of concurrent requests to the GitHub API. Defaults to 20.\n\n* `errorHandler`:\n  Function for custom error handling logic. See [handling errors](#handling-errors) for more details.\n\n## Bespoke API access ##\n\nMostly a work in progress, but here's a taste of what I have in mind:\n\n### Branches ###\n#### List branches ####\n\n```coffeescript\ngh.branches \"foo/bar\", (branches) ->\n  console.log branches[0].name\n```\n\n#### Create a branch ####\n\n```coffeescript\n# Branch from master\ngh.branches( \"foo/bar\" ).create \"my_radical_feature\", (branch) ->\n  console.log branch.sha\n\n# Branch from another branch\ngh.branches( \"foo/bar\" ).create \"even_more_radical\", from: \"my_radical_feature\", (branch) ->\n  console.log branch.sha\n```\n\n#### Merge a branch ####\n\n```coffeescript\n# Merge a branch into master\ngh.branches( \"foo/bar\" ).merge \"my_radical_feature\", (mergeCommit) ->\n  console.log mergeCommit.message\n\n# Merge a branch into a different target\ngh.branches( \"foo/bar\" ).merge \"my_radical_feature\", into: \"hotfixes\", (mergeCommit) ->\n  console.log mergeCommit.message\n\n# `base` is an alias for `into`\ngh.branches( \"foo/bar\" ).merge \"my_radical_feature\", base: \"hotfixes\", (mergeCommit) ->\n  console.log mergeCommit.message\n\n# Provide your own commit message\ngh.branches( \"foo/bar\" ).merge \"my_radical_feature\", message: \"Merge my radical feature!\", (mergeCommit) ->\n  console.log mergeCommit.sha\n```\n\n#### Delete a branch ####\n\n```coffeescript\ngh.branches( \"foo/bar\" ).delete \"my_radical_feature\", ->\n  console.log \"Deleted my branch!\"\n```\n\n### Deployments ###\n\n*Note*: These methods are smart and automatically use the\n`cannonball-preview` version header. No intervention needed!\n\n#### List deployments ####\n\n```coffeescript\ngh.deployments \"foo/bar\", (deploys) ->\n  console.log deploys.length\n```\n\n#### Create a deployment ####\n\n```coffeescript\ngh.deployments(\"foo/bar\")\n  .create 'my-branch', payload: {env: 'staging'}, description: \"Ship it!\", (deploy) =>\n    console.log deploy.url\n```\n\n#### Deployment statuses ####\n\n```coffeescript\ngh.deployments(\"foo/bar\").status deployId, (deploys) ->\n  console.log deploys[0].state\n```\n\n## Contributing ##\n\nInstall the dependencies:\n\n    npm install\n\nRun the tests:\n\n    make test\n    make test-all # Runs additional slower \"integration\" style tests, generally not necessary\n\n**Pull requests encouraged!**\n\nI'm vastly more likely to merge code that comes with tests. If you're confused by the testing process,\nask and I can probably point you in the right direction.\n\n## Thanks ##\n\n[These lovely people have contributed to githubot](https://github.com/iangreenleaf/githubot/contributors).\n\n\n\n\n[Build Status]: https://travis-ci.org/iangreenleaf/githubot.png?branch=master\n","starsCount":1,"created":"2012-02-10T23:43:47.807Z","modified":"2016-09-15T04:34:38.072Z","lastPublisher":{"name":"iangreenleaf","email":"ian.greenleaf@gmail.com"},"owners":[{"name":"iangreenleaf","email":"ian.greenleaf@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"githubot","_nodeVersion":"6.5.0","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/githubot-1.0.1.tgz_1473914076238_0.6294182378333062"},"_npmUser":{"name":"iangreenleaf","email":"ian.greenleaf@gmail.com"},"_npmVersion":"3.10.6","_rev":"1-31a5644c658c6fbc49a674b05ae9a750","_shasum":"57e4d822fa44ff05205838518bef2560dc56415d","author":{"name":"Ian Young","email":"ian.greenleaf@gmail.com"},"bugs":{"url":"https://github.com/iangreenleaf/githubot/issues"},"directories":{},"dist-tags":{"latest":"1.0.1"},"dist":{"shasum":"57e4d822fa44ff05205838518bef2560dc56415d","tarball":"http://registry.npmjs.org/githubot/-/githubot-1.0.1.tgz"},"maintainers":[{"name":"iangreenleaf","email":"ian.greenleaf@gmail.com"}],"readmeFilename":"Readme.md","time":{"modified":"2016-09-15T04:34:38.072Z","created":"2012-02-10T23:43:47.807Z","0.1.0":"2012-02-10T23:43:49.058Z","0.1.1":"2012-02-16T23:06:55.499Z","0.1.2":"2012-03-01T19:09:35.105Z","0.1.3":"2012-03-03T00:22:43.354Z","0.1.4":"2012-03-05T18:05:35.317Z","0.1.5":"2012-03-28T18:56:39.547Z","0.1.6":"2012-06-02T20:52:10.575Z","0.2.0":"2012-06-06T02:11:19.872Z","0.2.1":"2012-06-15T21:32:11.302Z","0.3.0":"2012-07-15T06:55:20.992Z","0.3.1":"2013-02-02T07:24:28.439Z","0.4.0":"2013-04-07T07:32:33.018Z","0.4.1":"2013-07-26T07:19:27.873Z","0.4.2":"2014-01-01T20:19:13.039Z","0.5.0":"2014-01-31T20:45:08.347Z","1.0.0-beta":"2014-04-13T01:48:51.082Z","1.0.0-beta2":"2014-04-13T02:14:11.753Z","1.0.0":"2015-03-12T19:16:50.715Z","1.0.1":"2016-09-15T04:34:38.072Z"},"users":{"tigefa":true}}}
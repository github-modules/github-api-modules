{"name":"github-pages","version":"3.0.2","description":"Publishes your github pages using the github API","main":"build/lib/index.js","bin":{"github-pages":"./build/bin/github-pages.js"},"scripts":{"clean":"rimraf build coverage","build":"npm run clean && babel ./src -d build","lint":"eslint src tests && jscs src tests","start":"node --harmony --harmony_destructuring ./src/bin/github-pages","test":"npm run lint && nyc ava","deploy:coverage":"codeclimate-test-reporter < .coverage/lcov.info","prepublish":"npm run build"},"ava":{"files":["tests/"],"require":["babel-register"],"babel":"inherit"},"nyc":{"all":true,"include":["src/"],"exclude":["src/bin"],"reporter":["text","lcov"],"lines":90,"function":90,"branches":90,"check-coverage":false,"report-dir":".coverage","require":["babel-register"]},"repository":"https://github.com/cantidio/node-github-pages","keywords":["git","github","gh-pages","pages","ci"],"license":"MIT","homepage":"https://github.com/cantidio/node-github-pages#readme","dependencies":{"github":"^0.2.4","ls-all":"^1.1.0","meow":"^3.7.0","pkg-conf":"^1.1.1"},"devDependencies":{"ava":"^0.13.0","babel-cli":"^6.6.5","babel-eslint":"^5.0.0","babel-plugin-transform-es2015-destructuring":"^6.6.5","babel-plugin-transform-object-assign":"^6.5.0","codeclimate-test-reporter":"^0.3.1","eslint":"^2.4.0","eslint-plugin-babel":"^3.1.0","estraverse-fb":"^1.3.1","jscs":"^2.11.0","nyc":"^6.1.1","rimraf":"^2.5.2"},"gitHead":"f0e80f6fd2848aaac1757391ecf06a26063f64e5","versions":[{"number":"0.1.0","date":"2016-03-23T04:47:32.872Z"},{"number":"0.1.3","date":"2016-03-23T07:48:25.285Z"},{"number":"1.0.0","date":"2016-03-26T09:32:10.138Z"},{"number":"2.0.0","date":"2016-03-27T02:58:32.283Z"},{"number":"2.1.0","date":"2016-03-27T04:21:56.990Z"},{"number":"3.0.0","date":"2016-03-27T07:20:24.546Z"},{"number":"3.0.1","date":"2016-03-28T19:20:18.504Z"},{"number":"3.0.2","date":"2016-04-07T22:01:56.885Z"}],"readme":"[![NPM](https://nodei.co/npm/github-pages.png)](https://nodei.co/npm/github-pages/)\n\n[![Build Status](https://travis-ci.org/cantidio/node-github-pages.svg?branch=master)](https://travis-ci.org/cantidio/node-github-pages)\n[![Code Climate](https://codeclimate.com/github/cantidio/node-github-pages/badges/gpa.svg)](https://codeclimate.com/github/cantidio/node-github-pages)\n[![Test Coverage](https://codeclimate.com/github/cantidio/node-github-pages/badges/coverage.svg)](https://codeclimate.com/github/cantidio/node-github-pages/coverage)\n[![Dependencies](https://david-dm.org/cantidio/node-github-pages.svg)](https://david-dm.org/cantidio/node-github-pages)\n[![devDependencies Status](https://david-dm.org/cantidio/node-github-pages/dev-status.svg)](https://david-dm.org/cantidio/node-github-pages#info=devDependencies)\n\n# Github Pages\n> Tool for publishing gh-pages the pro way.\n> WIP\n\n## Install\n```\n  npm install --save-dev github-pages\n```\n## Usage\n\n### CLI Usage\n```\nPublishes your github pages using the github API\n\nUsage\n  $ github-pages [options] [src]\n\n  Options\n  -r, --repo\n  -t, --token\n  -m  --commit-message\n  -a  --commit-author\n      --remote-ref\n      --api-version\n      --api-protocol\n      --api-host\n      --api-path\n      --api-timeout\n\nExamples\n  $ github-pages -r user/repo -t $GH_TOKEN ./data\n    > github-pages commit\n    > github-pages push to user/repo\n```\n*Not that the CLI arguments will always overwrite your github-pages configuration in your package.json file.*\n\nYou only need to provide the **repository**, the **token** data and the **src**. The other arguments are optional.\n\n  **WARNING**\n  The GithubPages will replace all the content of the given ref (heads/gh-pages by default) with the provided content.\n  **EVERYTHING** that is not present in the *src* folder will be deleted in your branch.\n  Have you made any mistake? Don't panic, GithubPages does not mess up with you git story. Just revert the commit. ;)\n\n## Configuration\nAll of the CLI options can be configured in the GithubPages section of your package.json. This allows you to modify the default behavior of the GithubPages command.\n\n```json\n{\n  \"github-pages\": {\n    \"api\": {\n      \"version\": \"3.0.0\",\n      \"protocol\": \"https\",\n      \"host\": \"api.github.com\",\n      \"pathPrefix\": \"\",\n      \"timeout\": 5000\n    },\n    \"auth\": {\n      \"type\": \"token\",\n      \"token\": \"GH_TOKEN\"\n    },\n    \"remote\": {\n      \"user\": \"user\",\n      \"repo\": \"repo\",\n      \"ref\": \"heads/gh-pages\"\n    },\n    \"commit\": {\n      \"message\": \"commit made by me\",\n      \"author\": {\n        \"name\": \"author-name\",\n        \"email\": \"author-email\"\n      }\n    },\n    \"src\": \"./data\"\n  }\n}\n```\nArguments passed to the CLI will always take precedence over the configuration in package.json.\n\n**$GH_TOKEN**: By default the token value is read from the environment var $GH_TOKEN. So if you don't want to set it in the configurations/cli, it will be read from $GH_TOKEN.\n\n### API Usage\n```js\n  const GithubPages = require('github-pages');\n  const config = require('package.json')['github-pages'];\n\n  const pages = new GithubPages(config);\n  pages.publish().then((res)=> {\n    console.log('published');\n    console.log(JSON.stringify(res, null, 2));\n  }).catch((err)=> {\n    console.error('error while publishing');\n    console.error(JSON.stringify(err, null, 2));\n  });\n```\nThe GithubPages needs the complete configuration to be used (*same file structure as described in package.json*). If you don't want to provide all the configuration you can use the support file *parse-config*, passing the same arguments as the cli (using camelCase).\n```js\n  const GithubPages = require('github-pages');\n  const parseConfig = require('github-pages').parseConfig;\n  const config = parseConfig({\n    repo: 'user/repo',\n    token: 'GH-TOKEN',\n    remoteRef: 'heads/gh-pages',\n    commitMessage: 'publishing from API.',\n    commitAuthor: 'author-name <author-email>',\n    apiVersion: '3.0.0',\n    apiProtocol: 'https',\n    apiHost: 'api.github.com',\n    apiPath: '',\n    apiTimeout: 5000\n  }, './dist');\n\n  const pages = new GithubPages(config);\n```\nThe *parseConfig* method receives as a input the same structure used in the cli, which is a plain object with the cli params using camelCase, different from the one used in the package.json. Besides that, *parseConfig* method will try to preload the configuration from your *package.json*.\n\n*The parseConfig function will return null if the final configuration is invalid.*\n\nIf you want to get the default configuration and change it yourself, then use if directly:\n```js\n  const config = require('github-pages').parseConfig.default;\n  /* => {\n    api: {\n      version: '3.0.0',\n      protocol: 'https',\n      host: 'api.github.com',\n      pathPrefix: '',\n      timeout: 5000\n    },\n    auth: { type: 'token', token: 'GH_TOKEN' },\n    remote: { ref: 'heads/gh-pages' },\n    commit: { message: 'github-pages publish.' }\n  } */\n```\nIf you want to validate your config object, you can use the helper function from parseConfig called isValid:\n```js\n  const isValid = require('github-pages').parseConfig.isValid;\n  isValid(config);\n  // true|false\n```\n\n### Integrating with Travis CI\nTo use GithubPages on your CI server, just install your lib and set your configuration.\nFor a less intrusive aproach, just create a script in your package.json for GithubPages:\n```json\n{\n  \"script\": {\n    \"gh-pages\": \"github-pages -r user/repo ./dist\"\n  }\n}\n```\nadd the following to your .travis.yml:\n```yaml\nafter_success: npm run gh-pages\n```\nRemember that you need to provide the environment var GH_TOKEN.\nTo learn how to provide this var in a secure and safe way, look at [travis-encrypted-environment-variables](https://docs.travis-ci.com/user/environment-variables/#Encrypted-Variables) or [travis-repository-variables](https://docs.travis-ci.com/user/environment-variables/#Defining-Variables-in-Repository-Settings) (recommended).\n\n# stack\n\n* [meow](https://www.npmjs.com/package/meow) for cli\n* [github](https://www.npmjs.com/package/github) use of github api\n* [babel](https://babeljs.io) for transpiling es6 code to es5\n* [ava](https://www.npmjs.com/package/ava) for testing\n* [nyc](https://www.npmjs.com/package/nyc) for code-coverage\n* [jscs](https://www.npmjs.com/package/jscs) lint\n* [eslint](https://www.npmjs.com/package/eslint) lint\n* [travis](https://travis-ci.org) Continous integration\n* [codeclimate](https://codeclimate.com) for resports on coverage & code analysis\n","starsCount":1,"created":"2016-03-23T04:47:32.872Z","modified":"2017-03-02T01:31:17.246Z","lastPublisher":{"name":"cantidio","email":"aniquilatorbloody@gmail.com"},"owners":[{"name":"cantidio","email":"aniquilatorbloody@gmail.com"}],"other":{"_attachments":{},"_from":".","_id":"github-pages","_nodeVersion":"5.10.1","_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/github-pages-3.0.2.tgz_1460066514403_0.0728309634141624"},"_npmUser":{"name":"cantidio","email":"aniquilatorbloody@gmail.com"},"_npmVersion":"3.8.3","_rev":"2-82179798dcf6a6df4749d9d567f46141","_shasum":"84cf59979fdf665378b04b1b9557f81a391aa88a","author":{"name":"Cantidio Fontes","email":"aniquilatorbloody@gmail.com"},"bugs":{"url":"https://github.com/cantidio/node-github-pages/issues"},"directories":{},"dist-tags":{"latest":"3.0.2"},"dist":{"shasum":"84cf59979fdf665378b04b1b9557f81a391aa88a","tarball":"http://registry.npmjs.org/github-pages/-/github-pages-3.0.2.tgz"},"maintainers":[{"name":"cantidio","email":"aniquilatorbloody@gmail.com"}],"readmeFilename":"README.md","time":{"modified":"2017-03-02T01:31:17.246Z","created":"2016-03-23T04:47:32.872Z","0.1.0":"2016-03-23T04:47:32.872Z","0.1.3":"2016-03-23T07:48:25.285Z","1.0.0":"2016-03-26T09:32:10.138Z","2.0.0":"2016-03-27T02:58:32.283Z","2.1.0":"2016-03-27T04:21:56.990Z","3.0.0":"2016-03-27T07:20:24.546Z","3.0.1":"2016-03-28T19:20:18.504Z","3.0.2":"2016-04-07T22:01:56.885Z"},"users":{"morewry":true}}}
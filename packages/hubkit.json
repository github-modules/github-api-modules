{"name":"hubkit","version":"0.5.1","description":"GitHub API library for JavaScript, promise-based, for both NodeJS and the browser","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":"https://github.com/pkaminski/hubkit","keywords":["github","api","promise"],"license":"MIT","homepage":"https://github.com/pkaminski/hubkit","engines":{"node":">=4.0"},"dependencies":{"lru-cache":"^4.0.0","superagent":"^2.3.0"},"gitHead":"99bfadd3455efcb5bbbefad42afc5ea5ad9fe85e","versions":[{"number":"0.1.0","date":"2014-09-08T09:47:26.373Z"},{"number":"0.1.1","date":"2014-09-09T05:29:55.788Z"},{"number":"0.1.2","date":"2014-09-10T05:59:16.449Z"},{"number":"0.1.3","date":"2014-09-10T20:30:30.039Z"},{"number":"0.1.4","date":"2014-09-10T20:43:17.232Z"},{"number":"0.1.5","date":"2014-09-19T23:16:16.906Z"},{"number":"0.1.6","date":"2014-09-20T07:36:40.313Z"},{"number":"0.1.7","date":"2014-09-20T07:51:17.958Z"},{"number":"0.1.8","date":"2014-10-04T11:01:49.707Z"},{"number":"0.1.9","date":"2014-10-11T06:04:28.302Z"},{"number":"0.1.10","date":"2014-10-15T08:48:59.723Z"},{"number":"0.1.11","date":"2014-10-15T21:09:17.579Z"},{"number":"0.1.12","date":"2014-10-16T00:09:53.581Z"},{"number":"0.1.13","date":"2014-10-16T00:33:23.947Z"},{"number":"0.1.14","date":"2014-10-19T07:30:20.852Z"},{"number":"0.1.15","date":"2014-10-22T00:30:58.991Z"},{"number":"0.1.16","date":"2014-10-22T00:33:32.194Z"},{"number":"0.1.17","date":"2014-10-22T03:28:24.335Z"},{"number":"0.1.18","date":"2014-10-25T23:41:28.524Z"},{"number":"0.1.19","date":"2014-10-30T23:32:37.986Z"},{"number":"0.1.20","date":"2014-10-31T05:34:09.981Z"},{"number":"0.1.21","date":"2014-11-14T20:18:08.031Z"},{"number":"0.1.22","date":"2014-11-15T01:18:00.376Z"},{"number":"0.1.23","date":"2014-11-16T08:39:40.828Z"},{"number":"0.1.24","date":"2015-03-26T04:01:43.303Z"},{"number":"0.1.25","date":"2015-04-05T06:46:19.471Z"},{"number":"0.1.26","date":"2015-04-05T08:31:18.136Z"},{"number":"0.1.28","date":"2015-04-08T07:06:13.558Z"},{"number":"0.1.29","date":"2015-04-08T21:10:35.577Z"},{"number":"0.1.30","date":"2015-04-16T22:01:09.743Z"},{"number":"0.1.31","date":"2015-05-01T08:31:54.720Z"},{"number":"0.1.32","date":"2015-05-23T06:13:18.831Z"},{"number":"0.1.33","date":"2015-05-24T22:18:31.533Z"},{"number":"0.1.34","date":"2015-05-25T09:14:20.771Z"},{"number":"0.1.35","date":"2015-05-26T17:42:47.428Z"},{"number":"0.1.36","date":"2015-06-02T21:39:05.970Z"},{"number":"0.2.0","date":"2015-06-06T07:02:53.779Z"},{"number":"0.2.1","date":"2015-08-02T00:21:51.489Z"},{"number":"0.2.2","date":"2015-08-27T08:00:41.239Z"},{"number":"0.2.3","date":"2015-08-28T08:54:20.374Z"},{"number":"0.2.4","date":"2015-08-28T11:37:10.474Z"},{"number":"0.2.5","date":"2015-09-04T09:47:22.684Z"},{"number":"0.2.6","date":"2015-09-11T11:35:00.835Z"},{"number":"0.2.7","date":"2015-10-31T23:03:46.150Z"},{"number":"0.3.0","date":"2015-12-06T00:02:12.778Z"},{"number":"0.3.1","date":"2015-12-11T10:08:46.562Z"},{"number":"0.3.2","date":"2015-12-22T22:48:50.561Z"},{"number":"0.3.3","date":"2016-01-24T00:38:43.504Z"},{"number":"0.3.4","date":"2016-02-25T05:59:45.609Z"},{"number":"0.3.5","date":"2016-02-25T06:31:52.724Z"},{"number":"0.3.6","date":"2016-02-29T08:49:43.789Z"},{"number":"0.3.8","date":"2016-04-21T00:16:08.198Z"},{"number":"0.3.9","date":"2016-04-21T02:52:15.550Z"},{"number":"0.3.10","date":"2016-04-21T21:30:25.098Z"},{"number":"0.3.11","date":"2016-07-20T19:29:49.257Z"},{"number":"0.3.12","date":"2016-08-29T04:51:29.701Z"},{"number":"0.3.13","date":"2016-09-02T00:27:21.283Z"},{"number":"0.3.14","date":"2016-09-03T03:15:28.417Z"},{"number":"0.3.15","date":"2016-09-03T04:29:30.764Z"},{"number":"0.3.16","date":"2016-09-08T03:01:57.663Z"},{"number":"0.3.17","date":"2016-09-09T09:42:23.817Z"},{"number":"0.3.18","date":"2016-09-09T10:39:28.801Z"},{"number":"0.3.19","date":"2016-09-09T11:13:24.354Z"},{"number":"0.3.20","date":"2016-09-09T23:28:56.552Z"},{"number":"0.3.21","date":"2016-10-27T23:18:00.902Z"},{"number":"0.3.22","date":"2016-10-30T08:34:43.772Z"},{"number":"0.4.0","date":"2016-11-02T21:53:56.070Z"},{"number":"0.5.0","date":"2016-11-25T19:41:16.112Z"},{"number":"0.5.1","date":"2017-01-12T06:51:53.739Z"}],"readme":"hubkit\n======\n\nA simple GitHub API library for JavaScript that works in both NodeJS and the browser.  Features:\n* Takes a request-level approach that naturally covers the entire GitHub v3 API.\n* All requests return promises.  (You may need to add a polyfill in the browser, depending on your target platforms.)\n* Responses are (optionally) cached (segregated by user identity), and requests are conditional to save on bandwidth and request quota.\nInspired by [simple-github](https://github.com/tobie/simple-github), [octo](https://github.com/Caged/octo), and [octokit](https://github.com/philschatz/octokit.js).\n\n#### Integration and dependencies\n\nYou need to ensure that an ES2015-compatible `Promise` class is defined.\n\nTo enable caching, make sure that [LRUCache](https://github.com/isaacs/node-lru-cache) is\nloaded. It's installed by default for Node, but in the browser you need to load `lru-cache.js`\n(perhaps from the [Bower-compatible variant](https://github.com/jmendiara/serialized-lru-cache)).  Or\nyou can pass any other cache instance as an option to the constructor, as long as it has `get`,\n`set`, and `del` methods.  If the cache is enabled Hubkit respects `Cache-Control` headers on the response (that GitHub currently seems to set to 1 minute for all requests), and will return a potentially stale value from the cache unless you specify `{fresh: true}`.\n\nIf you're fetching Hubkit via Bower, note that the `superagent` dependency _does not ship with browser-ready code_.  You'll need to make a dist build yourself via Browserify.  Ironically, the `npm` package for `superagent` does include browser-ready code.\n\n#### Usage\n\nA simple example:\n\n```javascript\nvar gh = new Hubkit({\n  token: '123456890ABCDEF',\n  owner: 'pkaminski',\n  repo: 'hubkit'\n});\ngh.request('GET /repos/:owner/:repo/commits').then(console.log);\ngh.request('GET /repos/:owner/:repo/git/commits/:sha', {sha: '09876abc'}).then(console.log);\ngh.request('POST /repose/{owner}/{repo}/pulls', {body: {title: 'foo', head: 'bar', base: 'master'}});\n```\n\nYou issue requests exactly as documented in [GitHub's API](https://developer.github.com/v3/).  Path\nsegments of the form `:foo` or `{foo}` are interpolated from the options object passed as the second\nargument and defaulting to the options object passed to the constructor.  The method can be\nspecified either together with the path, or as a `{method: 'GET'}` option (the inline one takes\nprecedence, and `GET` is the default if nothing else is found).\n\nThere are two ways to authenticate:  either pass a `token` to the options, or both a `username` and\n`password`.  Unauthenticated requests are fine too, of course.\n\nEvery call returns a `Promise`, which you might need to polyfill if your target environment doesn't\nsupport it natively.  You can then use the standard `then` API to specify both success and failure\ncallbacks, or in Node it integrates nicely with [`co`](https://github.com/visionmedia/co), so you\ncan do something like:\n\n```javascript\nco(function*() {\n  var commits = yield gh.request('GET /repose/:owner/:repo/commits');\n})();\n```\n\nThe returned values are exactly as documented in the GitHub API, except that requests with option\n`{boolean: true}` will return `true` or `false` instead (sorry, no way to automate it).  Note that\nfor paged responses, all pages will be concatenated together into the return value by default (see\nbelow).\n\nAfter every request, you can access `rateLimit` and `rateLimitRemaining` (or `searchRateLimit` and\n`searchRateLimitRemaining` if it's a search request) for the latest information on your GitHub\nquotas, and `oAuthScopes` to see what scopes your authorization entitles you to, on your `metadata`\nobject (see below) or on `Hubkit` if you didn't set one.\n\n#### Options reference\n\nValid options to pass (to the constructor or to each request), or to set on `Hubkit.defaults`,\ninclude:\n* `token`: String token to use for authentication; takes precedence over other auth methods.\n* `username` and `password`: For basic authentication; takes precedence over app-based authentication.\n* `clientId` and `clientSecret`: For app-based anonymous authentication (increased API quotas without impersonating a user).\n* `userAgent`: The user-agent to present in requests.  Uses the browser's user agent, or `Hubkit`\nin NodeJS.\n* `host`: The hostname to prepend to all request paths; defaults to `https://api.github.com`.\n* `timeout`: The timeout in milliseconds to apply to the request; none by default.  If the timeout is reached, the request will abort with an error that will have a `timeout` attribute set to the value you provided.\n* `agent`: On NodeJS only, the agent to use for the HTTP connection, e.g. to do connection pooling.  You may want to consider using [agentkeepalive](https://www.npmjs.com/package/agentkeepalive) if you're making a lot of requests.\n* `cache`: An object with `get`, `set`, and `del` methods to be used as a cache for responses.  The\nobjects inserted into the cache will be of the form\n`{value: {...}, eTag: 'abc123', status: 200, size: 1763}`.\nYou can use the (approximate) `size` field to help your cache determine when to evict items, but note that it tends to underestimate the actual size size of the object by 3-4x.  The\ndefault cache is set to hold ~10MB of the measured bytes amount (so ~30-40MB of actual memory usage).\n* `fresh`: If true, force a request to be issued to the server even if a cache is in use and an unexpired value available.  This is different from turning off the cache for the request since it can still make use of ETags and get a cheap 304 response in return.\n* `maxItemSizeRatio`: The maximum ratio of the size of any single item to the size of the cache, to avoid blowing away the entire cache with one huge item.  The default is set to 0.1, limiting each item to at most 1/10th the max size of the cache.\n* `stats`: Reports the cache hit rate via `hitRate` (number of items hit / total attempted) and `hitSizeRate` (total size of items hit / total attempted) attributes.  You can `reset()` the stats to start counting from scratch again.  A default instance is set on `Hubkit.defaults` but you can also assign a `new Hubkit.Stats()` to a `Hubkit` instance if you prefer.\n* `immutable`: If true, indicates that the return value for this call is immutable, so if it's available in the cache it can be reused without sending a request to GitHub to check freshness.\n* `method`: The HTTP method to use for the request.\n* `media`: A GitHub-specific [media type](https://developer.github.com/v3/media/) for the response\ncontent.  Valid values are:\n  * for comment bodies: `raw+json` (default), `text+json`, `html+json`, `full+json`\n  * for blobs: `json` (default), `raw`\n  * for commits, etc.: `diff`, `patch`\n* `body`: The contents of the request to send, typically a JSON-friendly object.\n* `responseType`: The XHR2 response type if you want to receive raw binary data; one of `text`, `arraybuffer`, `blob`, or `document`.  Only useful when fetching file blobs.\n* `perPage`: The number of items to return per page of response.  Defaults to 100.\n* `allPages`: Whether to automatically fetch all pages by following the `next` links and concatenate\nthe results before returning them.  Defaults to true.  If set to false and a result has more pages,\nyou'll find a `next()` function on the result that you can call to get a promise with the next page\nof items.\n* `boolean`: If true, interprets a 404 as false and a 20x as true.\n* `metadata`: The object on which to set metadata found in the response headers.  Defaults to `Hubkit`.\n* `ifNotFound`: A value to return instead of throwing an exception when the request results in a 404.\n* `ifGone`: A value to return instead of throwing an exception when the request results in a 410.\n* `onError`: A function to be called when an error occurs, either in the request itself or an\nunexpected 4xx or 5xx response.  If it's an error response, the error object will have `status`,\n`method`, `path`, and `response` attributes.  If the function returns `undefined`, the promise will\nbe rejected as usual (or the request retried in some special cases, like socket hang ups and abuse quota 403s), if it returns `Hubkit.RETRY` the request will be retried, if it returns `Hubkit.DONT_RETRY` the promise will always be rejected, and if returns any other value the promise will be resolved with the returned value.  If multiple onError handlers are assigned (e.g., in default options and in per-request options), they will all be executed, and the first non-undefined value from the most specific handler will be used.\n* `maxTries`: The maximum number of times that a request will be tried (including the original call) if `onError` keeps returning `Hubkit.RETRY`.\n* `onSend`: A function to be called before every individual request gets sent to GitHub.  The sole argument will be a string indicating the reason for the request: `initial` for the initial request, `page` for an automatic next page request (if the `allPages` option is on), and `retry` for an explicit or automatic retry.  The function can return a duration in milliseconds that will override the timeout provided in the options (if any).  The function can also return a promise for the above, in which case the request will be held until the promise is resolved.\n","created":"2014-09-08T09:47:26.373Z","modified":"2017-01-12T06:51:53.739Z","lastPublisher":{"name":"pkaminski","email":"piotr@ideanest.com"},"owners":[{"name":"pkaminski","email":"piotr@ideanest.com"}],"other":{"_attachments":{},"_from":".","_id":"hubkit","_nodeVersion":"6.9.2","_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/hubkit-0.5.1.tgz_1484203911729_0.8748905109241605"},"_npmUser":{"name":"pkaminski","email":"piotr@ideanest.com"},"_npmVersion":"4.0.3","_rev":"6-29fca38c2fd557b7f9a5afe6ad55f518","_shasum":"2c0ab207f40e80345725fe4ca5f05ded8639efb9","author":{"name":"Piotr Kaminski","email":"piotr@ideanest.com"},"bugs":{"url":"https://github.com/pkaminski/hubkit/issues"},"directories":{},"dist-tags":{"latest":"0.5.1"},"dist":{"shasum":"2c0ab207f40e80345725fe4ca5f05ded8639efb9","tarball":"https://registry.npmjs.org/hubkit/-/hubkit-0.5.1.tgz"},"maintainers":[{"name":"pkaminski","email":"piotr@ideanest.com"}],"readmeFilename":"README.md","time":{"modified":"2017-01-12T06:51:53.739Z","created":"2014-09-08T09:47:26.373Z","0.1.0":"2014-09-08T09:47:26.373Z","0.1.1":"2014-09-09T05:29:55.788Z","0.1.2":"2014-09-10T05:59:16.449Z","0.1.3":"2014-09-10T20:30:30.039Z","0.1.4":"2014-09-10T20:43:17.232Z","0.1.5":"2014-09-19T23:16:16.906Z","0.1.6":"2014-09-20T07:36:40.313Z","0.1.7":"2014-09-20T07:51:17.958Z","0.1.8":"2014-10-04T11:01:49.707Z","0.1.9":"2014-10-11T06:04:28.302Z","0.1.10":"2014-10-15T08:48:59.723Z","0.1.11":"2014-10-15T21:09:17.579Z","0.1.12":"2014-10-16T00:09:53.581Z","0.1.13":"2014-10-16T00:33:23.947Z","0.1.14":"2014-10-19T07:30:20.852Z","0.1.15":"2014-10-22T00:30:58.991Z","0.1.16":"2014-10-22T00:33:32.194Z","0.1.17":"2014-10-22T03:28:24.335Z","0.1.18":"2014-10-25T23:41:28.524Z","0.1.19":"2014-10-30T23:32:37.986Z","0.1.20":"2014-10-31T05:34:09.981Z","0.1.21":"2014-11-14T20:18:08.031Z","0.1.22":"2014-11-15T01:18:00.376Z","0.1.23":"2014-11-16T08:39:40.828Z","0.1.24":"2015-03-26T04:01:43.303Z","0.1.25":"2015-04-05T06:46:19.471Z","0.1.26":"2015-04-05T08:31:18.136Z","0.1.28":"2015-04-08T07:06:13.558Z","0.1.29":"2015-04-08T21:10:35.577Z","0.1.30":"2015-04-16T22:01:09.743Z","0.1.31":"2015-05-01T08:31:54.720Z","0.1.32":"2015-05-23T06:13:18.831Z","0.1.33":"2015-05-24T22:18:31.533Z","0.1.34":"2015-05-25T09:14:20.771Z","0.1.35":"2015-05-26T17:42:47.428Z","0.1.36":"2015-06-02T21:39:05.970Z","0.2.0":"2015-06-06T07:02:53.779Z","0.2.1":"2015-08-02T00:21:51.489Z","0.2.2":"2015-08-27T08:00:41.239Z","0.2.3":"2015-08-28T08:54:20.374Z","0.2.4":"2015-08-28T11:37:10.474Z","0.2.5":"2015-09-04T09:47:22.684Z","0.2.6":"2015-09-11T11:35:00.835Z","0.2.7":"2015-10-31T23:03:46.150Z","0.3.0":"2015-12-06T00:02:12.778Z","0.3.1":"2015-12-11T10:08:46.562Z","0.3.2":"2015-12-22T22:48:50.561Z","0.3.3":"2016-01-24T00:38:43.504Z","0.3.4":"2016-02-25T05:59:45.609Z","0.3.5":"2016-02-25T06:31:52.724Z","0.3.6":"2016-02-29T08:49:43.789Z","0.3.8":"2016-04-21T00:16:08.198Z","0.3.9":"2016-04-21T02:52:15.550Z","0.3.10":"2016-04-21T21:30:25.098Z","0.3.11":"2016-07-20T19:29:49.257Z","0.3.12":"2016-08-29T04:51:29.701Z","0.3.13":"2016-09-02T00:27:21.283Z","0.3.14":"2016-09-03T03:15:28.417Z","0.3.15":"2016-09-03T04:29:30.764Z","0.3.16":"2016-09-08T03:01:57.663Z","0.3.17":"2016-09-09T09:42:23.817Z","0.3.18":"2016-09-09T10:39:28.801Z","0.3.19":"2016-09-09T11:13:24.354Z","0.3.20":"2016-09-09T23:28:56.552Z","0.3.21":"2016-10-27T23:18:00.902Z","0.3.22":"2016-10-30T08:34:43.772Z","0.4.0":"2016-11-02T21:53:56.070Z","0.5.0":"2016-11-25T19:41:16.112Z","0.5.1":"2017-01-12T06:51:53.739Z"}}}